
@{
    ViewData["Title"] = "report_network_statistics";
    Layout = "~/Views/Shared/ownyit_main_page.cshtml";
}

<script type="text/javascript">
    $(document).ready(function () {
        $("#network_up").click(function () {
            $("#network_form").toggle();

        });
    });   
  
</script>

<div class="row">
  
        <div class="ibox float-e-margins ">
            <div class="ibox-content" style="padding:4px;">
                <div class="pull-right form_label btn_top_margin">
                    @*<button class="btn btn-default btn-md day" data-toggle="modal" id="btnpacketinfo">Packets Informations</button>*@
                    <button class="btn btn-primary btn-md day" data-toggle="modal" id="btnnetworktraffic">Network Traffic Statistic</button>
                </div>
                <ul class="breadcrumb" style="margin-bottom:0px;">
                    <li>
                        @Html.ActionLink("Reports", "report_agent_information", "csat_report")
                        <i class="icon-angle-right"></i>
                    </li>
                    <li> Network Statistics Details  </li>
                </ul>
            </div>
        </div>
 
    <!--side menu-->
    <div class="col-sm-2 col-md-2 col-lg-2 no_padding">
        <div class="ibox float-e-margins ">
            <div class="ibox-content sidemenu">
                @{
                    @Html.Partial("csat_report_menu");
                }
            </div>
        </div>
    </div>
    <!--side menu end-->

    <div class="col-sm-10 col-md-10 col-lg-10">
        <div class="ibox float-e-margins" style="margin-bottom: 10px;">
            <div class="ibox-content">
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="row">
                            <div class="col-xs-12">
                                <form class="form-horizontal" method="post">
                                    <div class="form-group">
                                        <label for="nameField" style="margin-top: -5px;background-color: #fff;text-align: center;color: #3D93C8;width: 120px;" class="col-xs-2 form_label">&nbsp;&nbsp;Advance Search&nbsp;&nbsp;</label>
                                        <div class="col-xs-10">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <form class="form-horizontal" method="post" name="frm_networkstatic_report" id="frm_networkstatic_report">
                            <div class="form-group">
                                <label for="nameField" class="col-xs-1 form_label">Branch/ Unit</label>
                                <div class="col-xs-4">
                                    <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Branch/Unit" id="drpou"></select>
                                </div>
                                <label for="nameField" class="col-xs-1 form_label">System Name</label>
                                <div class="col-xs-2" id="selectsys">
                                    <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Device" id="drpDevice">
                                        <option value='-1'>Select System Name</option>
                                    </select>
                                </div>
                                <div class="col-xs-2" id="inputsystemname">
                                    <input type="text" class="form-control col-sm-3 col-lg-3 col-md-3" name="add_systemname" id="add_systemname">
                                </div>
                                <div class="col-xs-1">
                                    <input type="checkbox" class="form-check-input" id="add_system_chk" name="add_system_chk" style="width:20px;height:25px;">
                                </div>
                                <label for="nameField" class="col-xs-1 form_label" style="margin-left:-48px;">IP Address</label>
                                <div class="col-xs-2">
                                    <input type="text" class="form-control col-sm-3 col-lg-3 col-md-3" placeholder="" name="drpip" id="drpip">
                                    @*<select class="form-control col-sm-3 col-lg-3 col-md-3" name="ip" id="drpip">
                <option value='-1'>Select IP Address</option>
            </select>*@
                                </div>
                            </div>


                            <div class="form-group">

                                <label for="nameField" class="col-xs-1 form_label">Date Range</label>
                                <div class="col-sm-3 col-lg-3 col-md-3">
                                    <input type="text" name="datefiltermain" class="form-control " placeholder="DD/MM/YYYY -  DD/MM/YYYY " id="network_date">
                                </div>
                                <label for="nameField" class="col-xs-1 text-align-right">Local IP</label>
                                <div class="col-xs-2">
                                    <select class="form-control col-sm-2 col-lg-2 col-md-2" name="localip" id="drplocalip">
                                        <option value="-1">Select Local IP</option>

                                    </select>
                                </div>
                                <label for="nameField" class="col-xs-1 text-align-right">Remote IP</label>
                                <div class="col-xs-2">
                                    <select class="form-control col-sm-2 col-lg-2 col-md-2" name="localip" id="drpremoteip">
                                        <option value="-1">Select Remote IP</option>
                                    </select>
                                </div>
                                @*<label for="nameField" class="col-xs-1 text-align-right">Protocol </label>
                                <div class="col-xs-2">
                                    <select class="form-control col-sm-2 col-lg-2 col-md-2" name="Protocol" id="drpmainProtocol">
                                        <option value="-1">Select Protocol Type</option>

                                    </select>
                                </div>*@

                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-1 form_label">Selection</label>
                                <div class="col-xs-2">
                                    <select class="form-control col-sm-2 col-lg-2 col-md-2" name="Packets" id='drpmainpackets'>
                                        <option value="1">Send Packets</option>
                                        <option value="2">Received Packets</option>
                                        <option value="3">Size of Send Packets</option>
                                        <option value="4">Size of Received Packets</option>
                                    </select>
                                </div>

                                <div class="pull-left col-xs-1">
                                    <input type="button" class="btn btn-primary" value="Show" onclick="bindmainnetworkdata()">
                                </div>

                            </div>
                        </form>

                    </div>
                </div>
            </div>

        </div>     
        <!--form  content end-->
        <!--System Network statistics   form end-->
        <!--System Network statistics  Datatable start-->
        <div class="row ibox2">
            <div class="col-sm-12 col-md-12 col-lg-12 ibox2-content">
                <div class="table-responsive" id='send'>
                    <!-- System Network statistics send_packets  chart start-->
                    <div class="row" style="align-content:center;margin-bottom:10px;">
                        <div class="col-sm-2 col-md-2 col-lg-2"></div>
                        <div class="col-sm-8 col-md-8 col-lg-8 network_statisticschart" id="main_packets_charts_div">
                            <canvas id='main_packets_charts'></canvas>
                        </div>
                        <div class="col-sm-2 col-md-2 col-lg-2"></div>
                    </div>                  
                    <div id="divmaingriddata">

                    </div>
                </div>



            </div>
        </div>
        <!--System Network statistics  Datatable end-->
    </div>
    <div class="space_bottom">&nbsp;</div>
</div>
<!-- System Network Traffic statistics pop-up model box  Content-->
<div class="modal fade" id="network_traffic_statistics" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog  modal-lg" style="margin-top: 82px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    System Network Traffic Statistics Report
                </h6>
            </div>
            <div class="modal-body model_body_scroll">
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">

                        <!--form  content-->
                        <div class="row">
                            <i id="network_up" class="pull-right glyphicon glyphicon-chevron-down" style="color:#74b1f4;font-size: 12px;"></i>
                            <div class="col-xs-10">
                                <form class="form-horizontal" method="post" id="network_form" name="network_form">
                                    <div class="form-group">
                                        <label for="nameField" class="col-xs-1 form_label">Branch/ Unit</label>
                                        <div class="col-xs-3">
                                            <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Branch/Unit" id="drppou">
                                                <option value='-1'>Select Branch/ Unit</option>
                                            </select>
                                        </div>
                                        <label for="nameField" class="col-xs-1 form_label">System Name</label>
                                        <div class="col-xs-2" id="selectsys1">
                                            <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Device" id="drppDevice">
                                                <option value='-1'>Select System Name</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-2" id="inputsystemname1">
                                            <input type="text" class="form-control col-sm-3 col-lg-3 col-md-3" name="add_systemname1" id="add_systemname_id">
                                        </div>
                                        <div class="col-xs-1">
                                            <input type="checkbox" class="form-check-input" id="add_system_chk1" name="add_system_chk1" style="width:20px;height:25px;">
                                        </div>
                                        <label for="nameField" class="col-xs-1 form_label">IP Address</label>
                                        <div class="col-xs-2">
                                            <input type="text" class="form-control col-sm-3 col-lg-3 col-md-3" placeholder="" name="drppip" id="drppip">
                                            @*<select class="form-control col-sm-3 col-lg-3 col-md-3" name="ip" id="drppip">
                <option value='-1'>Select IP Address</option>
            </select>*@
                                        </div>

                                    </div>
                                    <div class="form-group">


                                        <label for="nameField" class="col-xs-1 form_label">Date Range</label>
                                        <div class="col-xs-4">
                                            <input type="text" name="datefilterp" class="form-control" placeholder="DD/MM/YYYY -  DD/MM/YYYY " id="date">
                                        </div>
                                        <label for="nameField" class="col-xs-1">Selection</label>
                                        <div class="col-xs-2">
                                            <select class="form-control col-sm-3 col-lg-3 col-md-3" name="type" id="packettype">
                                                <option value="1">Packets</option>
                                                <option value="2">Size(KB)</option>
                                            </select>
                                        </div>
                                        <div class="pull-left col-xs-1">
                                            <input type="button" class="btn btn-primary" value="Show" id="btnpshow">
                                        </div>
                                    </div>

                                </form>

                            </div>
                        </div>
                        <!--End form  content-->

                    </div>
                </div>
                <hr />
                <!--System Network Traffic statistics Datatable start-->

                <div class="row">

                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="table-responsive" id='number_of_statistic'>
                            <!--System Network Traffic statistics number_of_statistic chart start-->
                            <div class="row" style="align-content:center">
                                <div class="col-sm-2 col-md-2 col-lg-2"></div>
                                <div class="col-sm-8 col-md-8 col-lg-8 network_statisticschart1" id="divpacketschart" style="padding: 30px;">
                                    <canvas id='number_of_statistic_chart' ></canvas>
                                </div>
                            </div>
                            <hr />
                            <!--System Network Traffic statistics number_of_statistic chart end-->
                            <div id="tblpacketdiv">

                            </div>
                        </div>

                        <div class="table-responsive" id='size_of_statistic' style="display:none;">
                            <!--System Network Traffic statistics size_of_statistic chart start-->
                            <div class="row" style="align-content:center">
                                <div class="col-sm-2 col-md-2 col-lg-2"></div>
                                <div class="col-sm-8 col-md-8 col-lg-8 network_statisticschart1" id="divpacketssizechart" style="padding: 30px;">
                                    <canvas id='size_of_statistic_chart' ></canvas>
                                </div>
                            </div>
                            <!--System Network Traffic statistics size_of_statistic chart end-->
                            <div id="tblsizediv">

                            </div>
                        </div>

                    </div>
                    <!--System Network Traffic statistics Datatable end-->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="cleardata()">Close</button>
                </div>
            </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
    </div>
<!-- End System Network Traffic statistics pop-up model box Content -->
<script>
    
    $(document).ready(function () {
        
        validateSingleForm("#frm_networkstatic_report");
        validateSingleForm("#network_form");
    });
</script>
<script>
	var mainsdate="";
	var mainedate="";
	$(function () {
            $('input[name="datefiltermain"]').daterangepicker({
                // opens: 'left',
                autoUpdateInput: true,
                startDate: moment().startOf('hour').add(-24, 'hour'),
                endDate: moment().startOf('hour'),
                locale: {
                    format: 'DD/MM/YYYY',
                    cancelLabel: 'Clear',
                }
            });

            $('input[name="datefiltermain"]').on('apply.daterangepicker', function (ev, picker) {
                $(this).val(picker.startDate.format('DD/MM/YYYY') + ' - ' + picker.endDate.format('DD/MM/YYYY '));
				 mainsdate=picker.startDate.format('DD/MM/YYYY');
              	 mainedate=picker.endDate.format('DD/MM/YYYY');
            });

            $('input[name="datefiltermain"]').on('cancel.daterangepicker', function (ev, picker) {
                $(this).val('');
            });
            $(window).bind('scroll', function () {
                $(".daterangepicker").hide();
            });

        });

    var oudata = "";
 $.get('@Url.Content("~/csat_report/GetOU/")', null, DataBind)
    function DataBind(data) {
        var tmpOUID = "";
        $("#overlay").show();
        $("#overlay").fadeIn(300);
       // debugger;
        var url = '@Url.Content("~/csat_report/GetOU/")';
        $.ajax({
            type: "POST",   
            url: url,
            success: function (data) {
        var SetData = $('#drpou');
        jQuery('#drpou').html('');

        oudata = "";
        for (var i = 0; i < data.ou.length; i++) {
            oudata += "<option value='" + data.ou[i].ouid + "'>" + data.ou[i].ouname + "</option>";
            if (i == 0)
                tmpOUID = data.ou[i].ouid;
        }
                SetData.append(oudata);
                getsystemlist1(tmpOUID);
            }
        });
		var url = '@Url.Content("~/csat_report/getprotocol/")';
        $.ajax({
        type: "POST",
        url: url,
        success: function (data) {

		// debugger;
        var SetPData = $('#drpmainProtocol');
        jQuery('#drpmainProtocol').html('');

        var pdata = "<option value='-1'>Select Protocol Type</option>";
        for (var i = 0; i < data.protocol.length; i++) {
            pdata += "<option value='" + data.protocol[i].protocol + "'>" + data.protocol[i].protocol + "</option>";
        }
        SetPData.append(pdata);

		}
        }).done(function () {
            setTimeout(function () {
                $("#overlay").fadeOut(300);
            }, 500);
        });

    }



$("#drpou").change(function () {
    ouidvalue = this.value;
    getsystemlist1(ouidvalue);      
});
    function getsystemlist1(ouidvalue) {       
        var url = '@Url.Content("~/csat_report/Get_syatemname_ip?ouid=")' + ouidvalue;
        $.ajax({
        type: "POST",
        url: url,
        success: function (data) {
        // debugger;
        var SetDatadevice = $('#drpDevice');
        //var SetDataip = $('#drpip');

        jQuery('#drpDevice').html('');
        //jQuery('#drpip').html('');

        var devicedata = "<option value='-1'>Select System Name</option>";
        //var ipdata = "<option value='-1'>Select IP Address</option>";

        for (var i = 0; i < data.systemip.length; i++) {
           devicedata+="<option value='"+ data.systemip[i].device_name +"'>"+ data.systemip[i].device_name +"</option>";
           //ipdata+="<option value='"+ data.systemip[i].ip +"'>"+ data.systemip[i].ip +"</option>";
            }
            
            SetDatadevice.append(devicedata);
            //SetDataip.append(ipdata);
           
        }

        });

    }
	var ouidvalue="";
    var systemvalue="";
    var ipvalue = "";
    var packetvalue = "";
    $("#drpou").change(function () {
        ouidvalue = this.value;
    });

    $("#drpDevice").change(function () {
        systemvalue = this.value;

    });
    $("#drpmainpackets").change(function () {
        packetvalue = this.value;
        if (packetvalue >= 0) {
            Datalocalip(ipvalue, packetvalue);
        }
    });
    $("#drpip").change(function () {
        //debugger;
        ipvalue = this.value;
        var ipvalue = document.getElementById("drpip").value;
        var packetvalue = document.getElementById("drpmainpackets").value;
        if (packetvalue >= 0) {
            Datalocalip(ipvalue, packetvalue);
        }
    });
    
       
	function bindmainnetworkdata()
    {
        var $valid = $('#frm_networkstatic_report').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        } else {
            $("#overlay").show();
            $("#overlay").fadeIn(300);
            var ipvalue = document.getElementById("drpip").value;
            var varlocalip = document.getElementById("drplocalip").value;
            var varremoteip = document.getElementById("drpremoteip").value;
            var varpacketvalue1 = document.getElementById("drpmainpackets").value;
            var rowhead = "";
            var chartlabel = "";
            var rowhead1 = "";
            var chartlabel1 = "";
            if (varpacketvalue1 == '1') {
                rowhead1 = "No of Send Packets";
                chartlabel1 = "Send Packets";
            }
            else if (varpacketvalue1 == '2') {
                rowhead1 = "No of Received Packets";
                chartlabel1 = "Receive Packets";
            }
            else if (varpacketvalue1 == '3') {
                rowhead1 = "Size(KB) of Send Packets";
                chartlabel1 = "Send Packets";
            }
            else if (varpacketvalue1 == '4') {
                rowhead1 = "Size(KB) of Received Packets";
                chartlabel1 = "Receive Packets";
            }
            var systemvalue = document.getElementById('add_systemname').value;
            if (systemvalue == "") {
                systemvalue = document.getElementById("drpDevice").value;
            }
            mainsdate = $('#network_date').data('daterangepicker').startDate.format('DD/MM/YYYY');
            mainedate = $('#network_date').data('daterangepicker').endDate.format('DD/MM/YYYY');
            var url1 = '@Url.Content("~/csat_report/getnetwrokdetailsdata?ouid=")' + ouidvalue + '&ip=' + ipvalue + '&device=' + systemvalue + '&sdate=' + mainsdate + '&edate=' + mainedate + '&localip=' + varlocalip + '&remoteip=' + varremoteip + '&packetvalue=' + varpacketvalue1;

            $.ajax({
                type: "POST",
                url: url1,
                success: function (data) {
                    NetworkLinechart("main_packets_charts", data.networkchartdata,chartlabel1, rowhead1);
                    var Setgriddata = $('#divmaingriddata');
                    jQuery('#divmaingriddata').html('');
                    var headdata = "<table class='table table-striped table-bordered tbl_pdfexport_date' style='width:100%'><thead><tr><th class='col-sm-2'>Branch/ Unit</th><th class='col-sm-1'>System Name</th><th class='col-sm-1'>IP Address</th>" +
                        "<th class='col-sm-2'>" + rowhead1 + "</th></tr></thead><tbody>";
                    var trdata = "";
                    for (var i = 0; i < data.netwrokdetails.length; i++) {
                        trdata += "<tr>";
                        trdata += "<td class='col-sm-2'>" + data.netwrokdetails[i].ou_longname + "</td>";
                        trdata += "<td class='col-sm-1'>" + data.netwrokdetails[i].device_name + "</td>";
                        trdata += "<td class='col-sm-1'>" + data.netwrokdetails[i].ip + "</td>";
                        trdata += "<td class='col-sm-2'>" + data.netwrokdetails[i].packet + "</td>";
                        trdata += "</tr>";
                    }
                    Setgriddata.append(headdata + trdata + "</tbody></table>");
                    reportdate = document.getElementById('network_date').value;
                    reportname = "Network Statistics Details Report";
                    datatable_pdfexport_date(reportname, reportdate)

                }
            }).done(function () {
                setTimeout(function () {
                    $("#overlay").fadeOut(300);
                }, 500);
            });

        }

	}


</script>
<script>
		var psdate="";
		var pedate="";
		$(function () {
            $('input[name="datefilterp"]').daterangepicker({
                // opens: 'left',
                autoUpdateInput: true,
                startDate: moment().startOf('hour').add(-24, 'hour'),
                endDate: moment().startOf('hour'),
                locale: {
                    format: 'DD/MM/YYYY',
                    cancelLabel: 'Clear',
                }
            });

            $('input[name="datefilterp"]').on('apply.daterangepicker', function (ev, picker) {
                $(this).val(picker.startDate.format('DD/MM/YYYY') + ' - ' + picker.endDate.format('DD/MM/YYYY '));
				 psdate=picker.startDate.format('DD/MM/YYYY');
              	 pedate=picker.endDate.format('DD/MM/YYYY');
            });

            $('input[name="datefilterp"]').on('cancel.daterangepicker', function (ev, picker) {
                $(this).val('');
            });
            $(".model_body_scroll").bind('scroll', function () {
                $(".daterangepicker").hide();
            });

        });
        // Network traffic details
        $('#btnnetworktraffic').on('click',function()
		{
		//   debugger;
		   $.get('@Url.Content("~/csat_report/GetOU/")', null, DatapOuBind);
                $('#network_traffic_statistics').modal('show');

		});
    var oudata = "";

    function DatapOuBind(data) {
        var tmpOUID = "";
   //    debugger;
        var url = '@Url.Content("~/csat_report/GetOU/")';
        $.ajax({
            type: "POST",   
            url: url,
            success: function (data) {
        var SetData = $('#drppou');
        jQuery('#drppou').html('');

         oudata = "";
        for (var i = 0; i < data.ou.length; i++) {
            oudata += "<option value='" + data.ou[i].ouid + "'>" + data.ou[i].ouname + "</option>";
            if (i == 0)
                tmpOUID = data.ou[i].ouid;
        }
        SetData.append(oudata);
           getsystemlist(tmpOUID);
            }
        });

    }
    $("#drppou").change(function () {
        ouidvalue = this.value;
        getsystemlist(ouidvalue);
    });
    function getsystemlist(ouidvalue) {
        var url = '@Url.Content("~/csat_report/Get_syatemname_ip?ouid=")' + ouidvalue;
        $.ajax({
        type: "POST",
        url: url,
        success: function (data) {
        // debugger;
        var SetDatadevice = $('#drppDevice');
        //var SetDataip = $('#drppip');

        jQuery('#drppDevice').html('');
        //jQuery('#drppip').html('');

        var devicedata = "<option value='-1'>Select System Name</option>";
        //var ipdata = "<option value='-1'>Select IP Address</option>";

        for (var i = 0; i < data.systemip.length; i++) {
           devicedata+="<option value='"+ data.systemip[i].device_name +"'>"+ data.systemip[i].device_name +"</option>";
           //ipdata+="<option value='"+ data.systemip[i].ip +"'>"+ data.systemip[i].ip +"</option>";
            }

            SetDatadevice.append(devicedata);
            //SetDataip.append(ipdata);

        }

        });
    }
    function Datalocalip(ipvalue, packettype) {
        //debugger;
        var url = '@Url.Content("~/csat_report/Getlocalip?ip=")' + ipvalue + '&packetstype=' + packettype;
        $.ajax({
            type: "POST",   
            url: url,
            success: function (data) {
                var SetData = $('#drplocalip');
                jQuery('#drplocalip').html('');
                var SetData1 = $('#drpremoteip');
                jQuery('#drpremoteip').html('');

                var localdata = "";
                var remotedata = "";
                var localdata = "<option value='-1'>Select Local IP</option>";
                for (var i = 0; i < data.localip.length; i++) {                    
                    localdata += "<option value='" + data.localip[i].local_ip + "'>" + data.localip[i].local_ip + "</option>";
                }
                var remotedata = "<option value='-1'>Select Remote IP</option>";
                for (var i = 0; i < data.remoteip.length; i++) {
                    remotedata += "<option value='" + data.remoteip[i].remote_ip + "'>" + data.remoteip[i].remote_ip + "</option>";
                }
                SetData.append(localdata);
                SetData1.append(remotedata);
                 
            }
        });

    }



	var ouidpvalue="";
    var systempvalue="";
    var ippvalue = "";
    var packettype = "1";
    $("#drppou").change(function () {
        ouidpvalue = this.value;
    });

    $("#drppDevice").change(function () {
        systempvalue = this.value;

    });
    //$("#drppip").change(function () {
    //    ippvalue = this.value;
       
    //});
    $("#packettype").change(function () {
        packettype = this.value;
       

    });

    $('#btnpshow').on('click', function () {
        var $valid = $('#network_form').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        } else {
            netwroktrafficstatisticschart();
        }
    });
    
	//  debugger;
    function netwroktrafficstatisticschart() {
       // debugger;
        var ippvalue = document.getElementById("drppip").value;
        psdate = $('#date').data('daterangepicker').startDate.format('DD/MM/YYYY');
        pedate = $('#date').data('daterangepicker').endDate.format('DD/MM/YYYY');
        var systemvalue = document.getElementById('add_systemname_id').value;
        //alert("add_systemname1:" + systemvalue)
        if (systemvalue == "") {
            systemvalue = document.getElementById("drppDevice").value;
        }
        //alert("add_systemname1:" + systemvalue)
        var url1 = '@Url.Content("~/csat_report/getnetwroktrafficstatistics?ouid=")' + ouidpvalue + '&ip=' + ippvalue + '&device=' + systempvalue + '&sdate=' + psdate + '&edate=' + pedate + '&packettype=' + packettype;

        $.ajax({
        type: "POST",
        url: url1,
            success: function (data) {
                //debugger;
                if (packettype == '1') {
                    $("#size_of_statistic").hide();
                    $("#number_of_statistic").show();
                    Line_Network_Traffic_Statitic_chart_2('number_of_statistic_chart', packettype, data.netwrokstatisticschart, '#FFC000', '#4472C4', ' Number of Packets ');
                  
                    var Setgridpacketdata = $('#tblpacketdiv');
                    jQuery('#tblpacketdiv').html('');
                    var headdata = "<table class='table table-striped table-bordered tbl_pdfexport_date'  style='width:100%'><thead><tr><th class='col-sm-1'>Date</th><th class='col-sm-2'>No of Send Packets</th><th class='col-sm-2'>No of Received Packets</th>" +
                        "</tr></thead><tbody>";
                    var trdata = "";
                    for (var i = 0; i < data.netwrokstatistics.length; i++) {
                        trdata += "<tr>";
                        trdata += "<td class='col-sm-1'>" + data.netwrokstatistics[i].label + "</td>";
                        trdata += "<td class='col-sm-2'>" + data.netwrokstatistics[i].sendpackets + "</td>";
                        trdata += "<td class='col-sm-2'>" + data.netwrokstatistics[i].receivedpackets + "</td>";
                        trdata += "</tr>";
                    }
                    Setgridpacketdata.append(headdata + trdata + "</tbody></table>");
                    reportdate = document.getElementById('network_date').value;
                    reportname = "Network Statistics Details Report";
                    datatable_pdfexport_date(reportname, reportdate);
                }

                else {
                    $("#number_of_statistic").hide();
                    $("#size_of_statistic").show();
                    Line_Network_Traffic_Statitic_chart_2('size_of_statistic_chart', packettype, data.netwrokstatisticschart, '#FFC000', '#4472C4', ' Size(KB) of Packets ');
                  
                    var Setgridpacketsizedata = $('#tblsizediv');
                    jQuery('#tblsizediv').html('');
                    var headdata = "<table class='table table-striped table-bordered tbl_pdfexport_date'  style='width:100%'><thead><tr><th class='col-sm-1'>Date</th><th class='col-sm-2'>Size(KB) of Send Packets</th><th class='col-sm-2'>Size(KB) of Received Packets</th>" +
                        "</tr></thead><tbody>";
                    var trdata = "";
                    for (var i = 0; i < data.netwrokstatistics.length; i++) {
                        trdata += "<tr>";
                        trdata += "<td class='col-sm-1'>" + data.netwrokstatistics[i].label + "</td>";
                        trdata += "<td class='col-sm-2'>" + data.netwrokstatistics[i].sendpackets + "</td>";
                        trdata += "<td class='col-sm-2'>" + data.netwrokstatistics[i].receivedpackets + "</td>";
                        trdata += "</tr>";
                    }
                    Setgridpacketsizedata.append(headdata + trdata + "</tbody></table>");
                    reportdate = document.getElementById('network_date').value;
                    reportname = "Network Statistics Details Report";
                    datatable_pdfexport_date(reportname, reportdate);
                }
             
                
            }
              
		});

    }

    function cleardata() {
        ippvalue = "";
        systempvalue = "";
        psdate = "";
        pedate = "";
        document.getElementById("drppip").value = '';
        document.getElementById("drppDevice").value = '-1';
        document.getElementById("packettype").value = '1';
        $("#size_of_statistic").hide();
        $("#number_of_statistic").hide();
    }
</script>
<script>
    //checkbox input hide & show
    $('#inputsystemname').hide();
    $('#add_system_chk').on('click', function () {
        if ($(this).is(':checked')) {
            $('#selectsys').hide();
            $('#inputsystemname').show();
        }
        else {
            $('#selectsys').show();
            $('#inputsystemname').hide();
            document.getElementById('add_systemname').value = "";
        }
    });
</script>
<script>
    //checkbox input hide & show
    $('#inputsystemname1').hide();
    $('#add_system_chk1').on('click', function () {
        if ($(this).is(':checked')) {
            $('#selectsys1').hide();
            $('#inputsystemname1').show();
        }
        else {
            $('#selectsys1').show();
            $('#inputsystemname1').hide();
            document.getElementById('add_systemname_id').value = "";
        }
    });
</script>