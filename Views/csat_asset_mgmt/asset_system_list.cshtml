
@using OwnYITCSAT.DataAccessLayer;
@using Microsoft.AspNetCore.Mvc.Rendering;
@using OwnYITCSAT.Controllers;
@{
    ViewData["Title"] = "asset_device_list";
    Layout = "~/Views/Shared/ownyit_main_page.cshtml";
}

@*<body onload="DataBind(); Funcssyinfo();">*@
<body onload="DataBind(); ">
    <div class="row">
        <div class="ibox float-e-margins">
            <div class="ibox-content" style="padding:4px;">

                <ul class="breadcrumb" style="margin-bottom:0px;">
                    <li>
                        @Html.ActionLink("Asset Management", "csat_asset_mgmt", "csat_asset_mgmt")
                        <i class="icon-angle-right"></i>
                    </li>
                    <li>System List</li>
                </ul>
            </div>
        </div>
    </div>
    <!--main Content-->
    <div class="row">
        <!--side menu-->
        <div class="col-sm-2 col-md-2 col-lg-2 no_padding">
            <div class="ibox float-e-margins ">
                <div class="ibox-content sidemenu">
                    @{
                        @Html.Partial("asset_system_menu");
                    }
                </div>
            </div>

        </div>
        <!--side menu end-->
        <!--sub content-->
        <div class="col-sm-10 col-md-10 col-lg-10">


            <!--asset device form-->
            <!--form  content-->

            <div class="ibox float-e-margins" style="margin-bottom: 10px;">
                <div class="ibox-content">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-12">

                            <div class="row">
                                <div class="col-xs-12">
                                    <form class="form-horizontal" method="post">
                                        <div class="form-group">
                                            <label for="nameField" style="margin-top: -10px;background-color: #fff;text-align: center;color: #3D93C8;width: 120px;" class="col-xs-2 form_label">&nbsp;&nbsp;Advance Search&nbsp;&nbsp;</label>
                                            <div class="col-xs-10">
                                            </div>
                                        </div>

                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-12">

                            <div class="row">
                                <div class="col-xs-10">
                                    <form class="form-horizontal" method="post" name="frm_asset_list_data" id="frm_asset_list_data">

                                        <div class="form-group">
                                            <label for="nameField" class="col-xs-2 form_label">Branch/ Unit</label>
                                            <div class="col-xs-10">
                                                <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Branch/Unit" id="drpou"></select>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="nameField" class="col-xs-2 form_label">System Name</label>
                                            <div class="col-xs-2" id="selectsys">
                                                <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Device" id="drpdevice">
                                                    <option value="-1">Select System Name</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-2" id="inputsystemname">
                                                <input type="text" class="form-control col-sm-2 col-lg-2 col-md-2" name="add_systemname" id="add_systemname">
                                            </div>
                                            <div class="col-xs-1">
                                                <input type="checkbox" class="form-check-input" id="add_system_chk" name="add_system_chk" style="width:20px;height:25px;">
                                            </div>
                                            <label for="nameField" class="col-xs-1 form_label">IP Address </label>
                                            <div class="col-xs-2">
                                                <input type="text" class="form-control col-sm-3 col-lg-3 col-md-3" placeholder="" name="drpip" id="drpip">
                                                @*<select class="form-control col-sm-3 col-lg-3 col-md-3" name="IP" id="drpip">
                <option value="-1">Select IP Address</option>
            </select>*@
                                            </div>
                                            <label for="nameField" class="col-xs-1 form_label">MAC Address</label>
                                            <div class="col-xs-2" style="margin-left: 20px;">
                                                <input type="text" class="form-control col-sm-3 col-lg-3 col-md-3" placeholder="" name="Macdropip" id="Macdropip">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="nameField" class="col-xs-2 form_label">Status</label>
                                            <div class="col-xs-2" style="margin-left: -2px;">
                                                <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Status" id="Status">
                                                    <option value="-1">Select Any</option>
                                                    <option value="1">Running</option>
                                                    @*<option value="2">Warning</option>*@
                                                    <option value="0">Unlinked</option>
                                                    <option value="10">Today Running now Unlink</option>
                                                </select>
                                            </div>
                                            <div class="pull-left col-xs-1">
                                                <button type="button" class="btn btn-primary" onclick="Funcssyinfo()">Show</button>
                                            </div>
                                        </div>
                                    </form>
                                    @*<form class="form-horizontal" method="post" name="frm_asset_list_data" id="frm_asset_list_data">
                                            <div class="form-group">
                                                <label for="nameField" class="col-xs-2 form_label">Branch/ Unit</label>
                                                <div class="col-xs-10">
                                                    <select class="form-control col-sm-3 col-lg-3 col-md-3" name="drpou" id="drpou"></select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="nameField" class="col-xs-2 form_label">System Name</label>
                                                <div class="col-xs-3">
                                                    <select class="form-control col-sm-3 col-lg-3 col-md-3" name="drpdevice" id="drpdevice">
                                                        <option value="-1">Select System Name</option>
                                                    </select>
                                                </div>
                                                <label for="nameField" class="col-xs-1 form_label">IP Address </label>
                                                <div class="col-xs-2">
                                                    <input type="text" class="form-control col-sm-3 col-lg-3 col-md-3" placeholder="" name="@*drpip" id="drpip">

                                                </div>
                                                <label for="nameField" class="col-xs-1 form_label">Status</label>
                                                <div class="col-xs-2" style="margin-left: -24px;">
                                                    <select class="form-control col-sm-3 col-lg-3 col-md-3" name="Status" id="Status">
                                                        <option value="-1">Select Any</option>
                                                        <option value="1">Running</option>

                                                        <option value="0">Unlinked</option>
                                                    </select>
                                                </div>
                                                <div class="pull-left col-xs-1">
                                                    <button type="button" class="btn btn-primary" onclick="Funcssyinfo()">Show</button>
                                                </div>
                                            </div>
                                        </form>*@
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--form  content end-->
                    <!--asset device form end-->
                    <!--asset device Datatable start-->
                    <!--asset device Datatable end-->
                </div>
            </div>
            <div class="row ibox2">
                <div class="col-sm-12 col-md-12 col-lg-12 ibox2-content" id="divsyslist_div">
                    <table id="divsyslist" class="table table-striped table-bordered display nowrap" width="100%"></table>
                </div>
            </div>
            @*<div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="table-responsive" id="divsyslist">

                        </div>
                    </div>
                </div>*@

        </div>  <!--sub content end-->
        <div class="space_bottom">&nbsp;</div>
    </div> <!--main Content end-->
    <!-- System sendmsg_popup model box  Content-->
</body>
<div class="modal fade" id="sendmsg_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog  modal-small">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a> <i class="icon-angle-right"></i>
                        </li>
                        <li> Send Messages</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <form class="form-horizontal" method="post" name="frm_Send_Messages" id="frm_Send_Messages" style="margin: 10px;">

                            <div class="form-group">
                                <label for="nameField" class="col-xs-3">Enter Message</label>
                                <div class="col-xs-8">
                                    <input class="form-control" type="text" name="lblsendmsg" id="lblsendmsg" placeholder="Please enter the message" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-3"></label>
                                <div class="col-xs-6">

                                    <button type="submit" class="btn btn-primary btn-custom" name="send" value="Send" id="btnsendmsg" onclick="SystemAction_message('lblsendmsg', 'SendMessage')">Send</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- End  System sendmsg_popup  pop-up model box Content end-->
<!-- System Execute Command popup model box  Content-->
<div class="modal fade" id="execute_command_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog  modal-small">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li> Execute Command</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">

                        <form class="form-horizontal" method="post" name="frm_Execute_Command" id="frm_Execute_Command" style="margin: 10px;">
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4">Enter Command</label>
                                <div class="col-xs-8">
                                    <input class="form-control" type="text" name="lblcommand" id="lblcommand" placeholder="Please enter the command" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4"></label>
                                <div class="col-xs-6">
                                    <button type="submit" class="btn btn-primary btn-custom" name="Execute" value="Execute" id="btnexecute" onclick="SystemAction_command('lblcommand', 'ExecuteCommand')">Execute</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- End Execute Command  pop-up model box Content end-->
<!--  Manage System popup model box  Content-->
<div class="modal fade" id="manage_system_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-small">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li> System Control</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <form class="form-horizontal" method="post" name="frm_System_Control" id="frm_System_Control" style="margin: 10px;">
                            <div id="All_radio">
                                <div class="form-group">
                                    <div class="col-xs-1 col-md-2 col-lg-2"></div>
                                    <label for="nameField" class="col-xs-2">Shutdown</label>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="radio">
                                            <label> <input class="sys_control" type="radio" name="action" value="shutdowngracefully" id="shutdownG"> Gracefully </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="radio">
                                            <label> <input class="sys_control" type="radio" name="action" value="shutdownforcefully" id="shutdownF"> Forcefully </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-1 col-md-2 col-lg-2"></div>
                                </div>
                                <div class="form-group">
                                    <div class="col-xs-1 col-md-2 col-lg-2"></div>
                                    <label for="nameField" class="col-xs-2">Restart</label>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="radio">
                                            <label> <input class="sys_control" type="radio" name="action" value="restrartgracefully" id="restrartG"> Gracefully </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="radio">
                                            <label> <input class="sys_control" type="radio" name="action" value="restrartforcefully" id="restrartF"> Forcefully </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-1 col-md-2 col-lg-2"></div>
                                </div>
                                <div class="form-group">
                                    <div class="col-xs-1 col-md-2 col-lg-2"></div>
                                    <label for="nameField" class="col-xs-2">Log off</label>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="radio">
                                            <label> <input class="sys_control" type="radio" name="action" value="Logoffgracefully" id="LogoffG"> Gracefully </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="radio">
                                            <label><input class="sys_control" type="radio" name="action" value="Logoffforcefully" id="LogoffF"> Forcefully </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-1 col-md-2 col-lg-2"></div>
                                </div>
                                <div id="HardikerrMessage" style="text-align:center"></div>
                            </div>

                            <div class="form-group">
                                <div class="col-xs-1 col-md-2 col-lg-3"></div>
                                <div class="col-xs-6">
                                    <input type="button" class="btn btn-primary btn-custom" name="submit" value="Submit" onclick="return manage_system();" />
                                    <input type="button" class="btn btn-default btn-custom" name="close" value="Close" data-dismiss="modal" onclick="cleardata()" />
                                </div>
                                <div class="col-xs-1 col-md-2 col-lg-3"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- End Manage System pop-up model box Content end-->
<!-- System fetch all data popup model box  Content-->
<div class="modal fade" id="fetch_alldata_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-small">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li> Refresh All Data</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <form class="form-horizontal" method="post" name="frm_refresh_data" id="frm_refresh_data" style="margin: 10px;">
                            @*<div class="form-group">
                                    <label for="nameField" class="col-xs-1"></label>
                                    <div class="checkbox">
                                        <label><input type="checkbox" name="allselect" onclick="fetchdata(this);" id="all" /><b>Select all</b></label>
                                    </div>
                                </div>*@
                            <div class="jumbotron">
                                <div class="form-group">
                                    <div class="col-xs-1 col-md-2 col-lg-3"></div>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="checkbox">
                                            <label> <input type="checkbox" name="data" id="alldata1" value="Hardware" onclick="fetchdataone();" />Hardware </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="checkbox">
                                            <label> <input type="checkbox" name="data" id="alldata1" value="Software" onclick="fetchdataone();" />Software </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-1 col-md-2 col-lg-3"></div>
                                </div>
                                <div class="form-group">
                                    <div class="col-xs-1 col-md-2 col-lg-3"></div>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="checkbox">
                                            <label><input type="checkbox" name="data" id="alldata1" value="Process" onclick="fetchdataone();" />Process</label>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="checkbox">
                                            <label><input type="checkbox" name="data" id="alldata1" value="Service" onclick="fetchdataone();" />Service</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="jumbotron">
                                <div class="form-group">
                                    <label for="nameField" class="col-xs-2"></label>
                                    <div class="col-xs-4 col-md-3 col-lg-3" style="padding-top:2px;">
                                        <div class="checkbox">
                                            <label> <input type="checkbox" name="data" id="fetchalldata" value="0" onclick="fetchdataone();" />All Data </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="errMessage" style="text-align:center"></div>
                            <br />
                            <div class="form-group">
                                <div class="col-xs-1 col-md-2 col-lg-3"></div>
                                <div class="col-xs-6">
                                    <input type="button" class="btn btn-primary btn-custom" name="submit" value="Submit" onclick="evalGroup()" />
                                    <input type="button" class="btn btn-default btn-custom" name="close" value="Close" onclick="cleardata()" data-dismiss="modal" />
                                </div>
                                <div class="col-xs-1 col-md-2 col-lg-3"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- End fetch all data  pop-up model box Content end-->
<!-- System Clean Temp File popup model box  Content-->
<div class="modal fade" id="clean_tempfile_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog  modal-small">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#555;">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li> Clean Temporary Files</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-10">
                        <form class="form-horizontal" method="post" style="margin: 10px;">
                            <div class="form-group">

                                <label for="nameField" class="col-xs-12">
                                    <i class="glyphicon glyphicon-exclamation-sign delete_msg"></i>
                                    <span style="font-weight:normal;margin-left:30px;">Are you sure you want to clean Temporary files ?</span>
                                </label>

                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4"></label>
                                <div class="col-xs-8">
                                    <input type="button" class="btn btn-primary btn-custom" name="yes" value="Yes" id="btntempyes" />
                                    <input type="submit" class="btn btn-default btn-custom" name="no" value="No" data-dismiss="modal" />

                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- End clean Temp File  pop-up model box Content end-->
<!-- Set Uninstall Password popup model box  Content-->
<div class="modal fade" id="set_unistall_password" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog  modal-small">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li> Set Uninstall Agent Password</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <form class="form-horizontal" method="post" name="frm_set_uninstall" id="frm_set_uninstall" style="margin: 10px;">
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4"> Current Password</label>
                                <div class="col-xs-8">
                                    <input type="password" class="form-control " name="txt_uninstall_old_password" id="txt_uninstall_old_password" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4">New Password</label>
                                <div class="col-xs-8">
                                    <input type="password" class="form-control" name="txt_uninstall_new_password" id="txt_uninstall_new_password" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4">Confirm Password</label>
                                <div class="col-xs-8">
                                    <input type="password" class="form-control" name="txt_uninstall_confirm_password" id="txt_uninstall_confirm_password" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4"></label>
                                <div class="col-xs-8">
                                    <input type="button" class="btn btn-primary btn-custom" name="Ok" value="Save" onclick="return(checkPasswordMatch());" />
                                    <input type="button" class="btn btn-default btn-custom" name="Cancel" value="Cancel" data-dismiss="modal" onclick="cleardata()" />
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Set Uninstall Password  pop-up model box Content end-->
<!--manage Agent registry popup start-->
<div class="modal fade" id="manage_agent_registry" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog " style="width:600px;">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="reset" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li> Manage System Registry</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <form class="form-horizontal" name="Agent_Registry" method="post" id="Agent_Registry" style="margin: 10px;">
                            <div class="form-group">
                                <label for="nameField" class="col-xs-2 form_label">Registry Path <b class="loginmsg">*</b> </label>
                                <div class="col-xs-10">
                                    <input class="form-control required" type="text" name="pathset" id="pathset" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-2 form_label">Key Name <b class="loginmsg">*</b> </label>
                                <div class="col-xs-10">
                                    <input class="form-control required" type="text" name="keyset" id="keyset" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-2 form_label">Key Type  <b class="loginmsg">*</b> </label>
                                <div class="col-xs-4">
                                    <select class="form-control col-sm-3 col-lg-4 col-md-4" name="keytype" id="keytype">
                                        <option value="">Select Key</option>
                                        <option value="0">String</option>
                                        <option value="1">Integer</option>
                                        <option value="2">Binary</option>
                                    </select>
                                </div>
                                <label for="nameField" class="col-xs-2 form_label">Action  <b class="loginmsg">*</b> </label>
                                <div class="col-xs-4">
                                    <select class="form-control col-sm-3 col-lg-4 col-md-4" name="keyaction" id="keyaction">
                                        <option value="">Select Action</option>
                                        <option value="1">New</option>
                                        <option value="2">Modify</option>
                                        <option value="0">Delete</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-2 form_label"> Key Value <b class="loginmsg">*</b></label>
                                <div class="col-xs-10">
                                    <input class="form-control required" type="text" name="key_valueset" id="key_valueset" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-3"></label>
                                <div class="col-xs-7">
                                    <input type="button" class="btn btn-primary btn-custom" name="Save" value="Save" onclick="manage_agent();" />
                                    <input type="reset" class="btn btn-default btn-custom" name="Clear" value="Clear" />
                                    <button type="button" class="btn btn-primary btn-custom" data-dismiss="modal" onclick="cleardata()">Close</button>
                                </div>
                                <label for="nameField" class="col-xs-2"></label>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="table-responsive" id="divmanagereg">

                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!--manage Agent registry popup end-->
<!-- System RDV popup model box  Content-->
<div class='modal fade' id='rdv_read_popup' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>
    <div class='modal-dialog  modal-small'>
        <div class='modal-content'>
            <div class='modal-header'>
                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>
                <h6 class=' modal-title'>
                    RDV Read
                </h6>
            </div>
            <div class='modal-body'>
                <div class='row'>
                    <div class='col-xs-12'>
                        <div class="row">
                            <div class="col-lg-6">
                                <img src="~/images/LRRDV.png" title="Take low resolution RDV" onclick="ViewLowRDV()" />
                            </div>
                            <div class="col-lg-6">
                                <img src="~/images/HRRDV.png" title="Take high resolution RDV" onclick="ViewHighRDV()" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<div class='modal fade' id='rdv_full_popup' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>
    <div class='modal-dialog  modal-small'>
        <div class='modal-content'>
            <div class='modal-header'>
                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>
                <h6 class=' modal-title'>
                    RDV Full
                </h6>
            </div>
            <div class='modal-body'>
                <div class='row'>
                    <div class='col-xs-12'>
                        <div class="row">
                            <div class="col-lg-6">
                                <img src="~/images/LRRDV.png" title="Take low resolution RDV" onclick="ViewLowRDV()" />
                            </div>
                            <div class="col-lg-6">
                                <img src="~/images/HRRDV.png" title="Take high resolution RDV" onclick="ViewHighRDV()" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<div class='modal fade' id='rdv_lowresolution_popup' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>
    <div class='modal-dialog  modal-lg'>
        <div class='modal-content'>
            <div class='modal-header'>
                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>
                <h6 class=' modal-title'>
                    @*// RDV Read*@
                </h6>
            </div>
            <div class='modal-body' style="height:500px">
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="table-responsive" id="divlowresolution">

                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- End RDV pop-up model box Content end-->
<!-- Set Server popup model box  Content-->
<div class="modal fade" id="serverip_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog  modal-small">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#fff;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="cleardata()">&times;</button>
                <h6 class=" modal-title">
                    <ul class="mbreadcrumb" style="margin-bottom: 0px;padding: 4px;">
                        <li>
                            <a href="#">Actions</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li> Set Server IP</li>
                    </ul>
                </h6>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <form class="form-horizontal" method="post" name="frm_setserverip_report" id="frm_setserverip_report" style="margin: 10px;">
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4">Intranet Server IP 1</label>
                                <div class="col-xs-8">
                                    <input type="text" id="intranetip1" name="intranetip1" class="form-control ip_address" placeholder="Enter Intranet Server IP 1  " />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4">Intranet Server IP 2</label>
                                <div class="col-xs-8">
                                    <input type="text" id="intranetip2" name="intranetip2" class="form-control ip_address" placeholder="Enter Intranet Server IP 2" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4">Internet Server IP 1</label>
                                <div class="col-xs-8">
                                    <input type="text" id="internetip1" name="internetip1" class="form-control ip_address" placeholder="Enter Internet Server IP 1" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4">Internet Server IP 2</label>
                                <div class="col-xs-8">
                                    <input type="text" id="internetip2" name="internetip2" class="form-control ip_address" placeholder="Enter Internet Server IP 2" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="nameField" class="col-xs-4"></label>
                                <div class="col-xs-6">
                                    <input type="button" class="btn btn-primary btn-custom" name="serverip" value="OK" onclick="AddServerIP()" />
                                    <input type="button" class="btn btn-default btn-custom" name="Cancel" value="Cancel" data-dismiss="modal" onclick="cleardata()" />
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- End Set Server pop-up model box Content end-->
<script>
    $(document).ready(function () {
        validateSingleForm("#frm_Send_Messages");
        validateSingleForm("#frm_Execute_Command");
        validateSingleForm("#frm_System_Control");
        //validateSingleForm("#frm_System_Control");
        validateSingleForm("#frm_refresh_data");
        validateSingleForm("#frm_set_uninstall");
        validateSingleForm("#Agent_Registry");
        validateSingleForm("#frm_setserverip_report");
    });

</script>
<script type="text/javascript">
    function validateIP(ip) {
        //Check Format
        var ip = ip.split(".");
        if (ip.length != 4) {
            return false;
        }
        //Check Numbers
        for (var c = 0; c < 4; c++) {
            //Perform Test
            if (!(1 / ip[c] > 0) || ip[c] > 255 || isNaN(parseFloat(ip[c])) || !isFinite(ip[c]) || ip[c].indexOf(" ") !== -1) {
                return false;
            }
        }
        return true;
    }
    //function runCheck() {
    //    var $valid = $('#frm_setserverip_report').valid();
    //   // alert($valid);
    //    if (!$valid) {
    //        $validatorform.focusInvalid();
    //        return false;
    //    } else {
    //        return AddServerIP();;
    //    }
    //}
    var device = "";
    var deviceidall = "";
    var popupid = "";
    function checkselect(id) {
        //debugger;
        deviceidall = "";
        popupid = id;
    }
    function msgpolicy(deviceidall) {
        //debugger;
        if (deviceidall != "") {
            $('#' + popupid).modal('show');
            return false;
        }
        else {
            alert("Select any one system !");
            $('#' + popupid).modal('hide');
            //window.location.href = '@Url.Content("~/csat_asset_mgmt/asset_system_list")';
            return false;
        }
    }
  //function checkselect(id) {
	 // debugger;
	 //  var atLeastOneIsChecked = $('input[id="gridrawcheck"]:checked').length > 0;
	 //   if (atLeastOneIsChecked == true)
		//{
		//      $('#'+id).modal('show');
	 //  }
		//else
	 //   {
  //      alert("Select any one system !");
		//$('#'+id).modal('hide');
		//}
  //  }

	// function toggle(source) {
	////debugger;
	//  deviceidall="";
 //       var checkboxes = document.querySelectorAll('input[id="gridrawcheck"]');
 //        for (var i = 0; i < checkboxes.length; i++) {
 //            if (checkboxes[i] != source) {
 //                //debugger;
 //                checkboxes[i].checked = source.checked;
 //                deviceidall += "," + checkboxes[i].value;
 //            }
 //            else {

 //            }

 //        }
 //   }
	//var deviceid="";
	// function UncheckMain(flag, device_id) {
 //   //   debugger;
	//   deviceid="";
	//   var checkboxes = document.querySelectorAll('input[id="gridrawcheck"]');
	//   for (var i = 0; i < checkboxes.length; i++) {
	//	if (checkboxes[i].checked == true) {
 //         deviceid += "," + checkboxes[i].value;
 //       }
	//	else
	//	{

	//	}

	//	}
 //   }
    function SystemAction_command(id, Type) {
        //debugger;
        var $valid = $('#frm_Execute_Command').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        }
        else {
            var Svalue = document.getElementById(id);
            if (deviceidall != "") {
                device = deviceidall;
            }
            var url = '@Url.Content("~/csat_asset_mgmt/Get_System_Action?deviceid=")' + device + '&strvalue=' + Svalue.value + '&ActionType=' + Type;
            //document.getElementById(id).value = '';
            $.ajax({
                type: "POST",
                url: url,
                success: function (result) {
                    $('#execute_command_popup').modal('hide');
                }
            });
        }
    }
    function SystemAction_message(id, Type) {
        //debugger;
        var $valid = $('#frm_Send_Messages').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        } else {
            var Svalue = document.getElementById(id);
            if (deviceidall != "") {
                device = deviceidall;
            }
            var url = '@Url.Content("~/csat_asset_mgmt/Get_System_Action?deviceid=")' + device + '&strvalue=' + Svalue.value + '&ActionType=' + Type;
            //document.getElementById(id).value = '';
            $.ajax({
                type: "POST",
                url: url,
                success: function (result) {
                    $('#sendmsg_popup').modal('hide');
                }
            });
        }
    }

	var managesystemvalue="";
	$('input[type=radio]').change( function() {
   managesystemvalue= this.value;
    });
    function manage_system() {
        //debugger;
        var $valid = $('#frm_System_Control').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        }
        else {
            if (deviceidall != "") {
                device = deviceidall;
            }
            debugger;
            var action = "";
            var actionvalue = "";
            //actionvalue = document.querySelector('input[name = "action"]:checked').value;
            //if (actionvalue == "shutdowngracefully" || actionvalue == "shutdownforcefully")
            //    action = "SHUTDOWN";
            //if (actionvalue == "restrartgracefully" || actionvalue == "restrartforcefully")
            //    action = "RESTART";
            //if (actionvalue == "Logoffgracefully" || actionvalue == "Logoffforcefully")
            //    action = "LOGOFF";
            if (managesystemvalue == "shutdowngracefully") {
                action = "shutdown";
                actionvalue = "1";
            }
            else if (managesystemvalue == "shutdownforcefully") {
                action = "shutdown";
                actionvalue = "0";
            }
            else if (managesystemvalue == "restrartgracefully") {
                action = "Restart";
                actionvalue = "1";
            }
            else if (managesystemvalue == "restrartforcefully") {
                action = "Restart";
                actionvalue = "0";
            }
            else if (managesystemvalue == "Logoffgracefully") {
                action = "Logoff";
                actionvalue = "1";
            }
            else if (managesystemvalue == "Logoffforcefully") {
                action = "Logoff";
                actionvalue = "0";
            }

            var url = '@Url.Content("~/csat_asset_mgmt/Get_System_Action?deviceid=")' + device + '&strvalue=' + actionvalue + '&ActionType=' + action;
            $.ajax({
                type: "POST",
                url: url,
                success: function (result) {
                    $('#manage_system_popup').modal('hide');
                }
            });

        }
    }
    var Fetchvalue="";
   function fetchdata(source) {
   Fetchvalue="";
        var checkboxes = document.querySelectorAll('input[id=alldata1]');
        for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i] != source)
             {
                checkboxes[i].checked = source.checked;
			  }
			 else
				{
				}
				if (checkboxes[i].checked == true) {
				Fetchvalue += "," + checkboxes[i].value;
				}
        }
    }

    function fetchdataone() {
	Fetchvalue="";
	 var checkboxes = document.querySelectorAll('input[id=alldata1]');
        for (var i = 0; i < checkboxes.length; i++) {
		if (checkboxes[i].checked == true) {
				Fetchvalue += "," + checkboxes[i].value;
				}
        }
        if (document.getElementById('fetchalldata').checked == true)
            Fetchvalue += "," + document.getElementById('fetchalldata').value;
    }

	function evalGroup() {
        var $valid = $('#frm_refresh_data').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        }
        else {
            if (deviceidall != "") {
                device = deviceidall;
            }
            var url = '@Url.Content("~/csat_asset_mgmt/Get_System_Action?deviceid=")' + device + '&strvalue=' + Fetchvalue + '&ActionType=FatchAll';
		    $.ajax({
             type: "POST",
             url: url,
                success: function (result) {
                    if (result == "1" || result == true)
                        alert("Action done successfully");
                    else
                        alert("Action failed");
                     $('#fetch_alldata_popup').modal('hide');
			       }
            });
        }
    }
	 $('#btntempyes').on('click', function () {
	  if(deviceidall != "")
	  {
	   device=deviceidall;
	  }
		   var url = '@Url.Content("~/csat_asset_mgmt/Get_System_Action?deviceid=")' + device + '&ActionType=CleanTempFile';
		   $.ajax({
            type: "POST",
            url: url,
               success: function (result) {
                   $('#clean_tempfile_popup').modal("hide");
			}
			});
    });
    // Set Uninstall Password
    function open_set_unstall_password() {
        $('#set_unistall_password').modal("show");
    }
    function submit_uninstall_password() {
        var oldpassword = document.getElementById("txt_uninstall_old_password").value;
        var newpassword = document.getElementById("txt_uninstall_new_password").value;
        var url = '@Url.Content("~/csat_asset_mgmt/set_unstall_password?oldpassword=")' + oldpassword + '&newpassword=' + newpassword;
		   $.ajax({
            type: "POST",
            url: url,
               success: function (data) {
                   alert(data);
                   document.getElementById("txt_uninstall_old_password").value = "";
                   document.getElementById("txt_uninstall_new_password").value = "";
                   document.getElementById("txt_uninstall_confirm_password").value = "";
                   $('#set_unistall_password').modal("hide");
			}
			});
    }
    // Set Server IP
    function AddServerIP() {

        var $valid = $('#frm_setserverip_report').valid();
        // alert($valid);
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        } else {
            //  debugger;
            var ip1 = document.getElementById("intranetip1").value;
            var ip2 = document.getElementById("intranetip2").value;
            var ip3 = document.getElementById("internetip1").value;
            var ip4 = document.getElementById("internetip2").value;
            if (deviceidall != "") {
                device = deviceidall;
            }
            var url = '@Url.Content("~/csat_asset_mgmt/set_serverip?ip1=")' + ip1 + '&ip2=' + ip2 + '&ip3=' + ip3 + '&ip4=' + ip4 + '&deviceid=' + device;
            $.ajax({
                type: "POST",
                url: url,
                success: function (data) {
                    alert(data);
                    document.getElementById("intranetip1").value = "";
                    document.getElementById("intranetip2").value = "";
                    document.getElementById("internetip1").value = "";
                    document.getElementById("internetip2").value = "";
                    $('#serverip_popup').modal("hide");
                    //window.location.href = '@Url.Content("~/csat_asset_mgmt/asset_system_list")';
                }
            });
        }
    }
    // Manage Agent Registry
    function checkselectagent(id) {
        var atLeastOneIsChecked = $('input[id="gridrawcheck"]:checked').length > 0;
        if (atLeastOneIsChecked == true) {
            $('#' + id).modal('show');
            if (deviceidall != "") {
                device = deviceidall;
            }
            var url = '@Url.Content("~/csat_asset_mgmt/GetDeviceRegistry?deviceid=")' + device;
            $.ajax({
                type: "POST",
                url: url,
                success: function (data) {
                    var Setgriddata = $('#divmanagereg');
                    jQuery('#divmanagereg').html('');
                    var headdata = "<table class='table table-striped table-bordered tbldatatable_simple' style='width:100%'><thead><tr><th>Branch/ Unit</th><th class='form_label'>System Name</th>" +
                        "<th class='form_label'>IP Address</th><th>Timestamp</th><th>Registry Path</th><th>Key Name</th><th class='form_label'>Key Value</th><th class='form_label'>key Type</th><th>Action</th><th>Status</th></tr></thead><tbody>";
                    var trdata = "";
                    for (var i = 0; i < data.deviceregistry.length; i++) {
                        trdata += "<tr>";
                        trdata += "<td>" + data.deviceregistry[i].ou_longname + "</td>";
                        trdata += "<td>" + data.deviceregistry[i].device_name + "</td>";
                        trdata += "<td>" + data.deviceregistry[i].ip + "</td>";
                        trdata += "<td class='form_label'>" + data.deviceregistry[i].timestamp + "</td>";
                        trdata += "<td class='tab_td_wrap'>" + data.deviceregistry[i].c057path + "</td>";
                        trdata += "<td>" + data.deviceregistry[i].c057key + "</td>";
                        trdata += "<td>" + data.deviceregistry[i].c057keyvalue + "</td>";
                        trdata += "<td>" + data.deviceregistry[i].keytype + "</td>";
                        trdata += "<td>" + data.deviceregistry[i].action + "</td>";
                        trdata += "<td>" + data.deviceregistry[i].status + "</td>";
                        trdata += "</tr>";
                    }
                    Setgriddata.append(headdata + trdata + "</tbody></table>");
                    datatable_simple();
                   }
            });
        }
        else {
            alert("Select any one system !");
            $('#' + id).modal('hide');
        }

    }
    function manage_agent() {
        //debugger;
        var $valid = $('#Agent_Registry').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        }
        else {
            //debugger;
            Add_DeviceRegistry();
        }
    }
    function Add_DeviceRegistry() {
        if (deviceidall != "")
            device = deviceidall;
            var key = document.getElementById("keyset").value;
            var keyvalue = document.getElementById("key_valueset").value;
            var path = document.getElementById("pathset").value;
            var keytype = document.getElementById("keytype").value;
            var keyaction = document.getElementById("keyaction").value;
        var url = '@Url.Content("~/csat_asset_mgmt/AddDeviceRegistry?deviceid=")' + device + '&key=' + key + '&keytype=' + keytype + '&keyvalue=' + keyvalue + '&keyaction=' + keyaction + '&path=' + path ;
            $.ajax({
                type: "POST",
                url: url,
                success: function (data) {
                    alert(data);
                    checkselectagent('manage_agent_registry');
                    cleardata();
                }
            });
    }
    function cleardata() {
        $('#divmanagereg').html('');
        document.getElementById("keyset").value = "";
        document.getElementById("key_valueset").value = "";
        document.getElementById("pathset").value = "";
        document.getElementById("keyaction").value = "-1";
        document.getElementById("keytype").value = "-1";
        document.getElementById("key_valueset").value = "";
        document.getElementById("lblsendmsg").value = "";
        document.getElementById("lblcommand").value = "";
        document.getElementById("shutdownG").checked = false;
        document.getElementById("shutdownF").checked = false;
        document.getElementById("restrartG").checked = false;
        document.getElementById("restrartF").checked = false;
        document.getElementById("LogoffG").checked = false;
        document.getElementById("LogoffF").checked = false;
        document.getElementById("txt_uninstall_old_password").value = "";
        document.getElementById("txt_uninstall_new_password").value = "";
        document.getElementById("txt_uninstall_confirm_password").value = "";
        document.getElementById("intranetip1").value = "";
        document.getElementById("intranetip2").value = "";
        document.getElementById("internetip1").value = "";
        document.getElementById("internetip2").value = "";
    }

</script>
<script>

    function DataBind() {
        var url = '@Url.Content("~/csat_report/GetOU/")';
        $.ajax({
            type: "POST",
            url: url,
            success: function (data) {
                var SetData = $('#drpou');
                jQuery('#drpou').html('');
                var oudata = "<option value='-1'>Select Branch/ Unit</option>";
                for (var i = 0; i < data.ou.length; i++) {
                    oudata += "<option value='" + data.ou[i].ouid + "'>" + data.ou[i].ouname + "</option>";
                }
                SetData.append(oudata);
            }
        });
    }
    var ouidvalue = "";
    var systemvalue = "";
    var ipvalue = "";
        $("#drpou").change(function () {
        ouidvalue = this.value;
        var url = '@Url.Content("~/csat_report/Get_syatemname_ip?ouid=")' + this.value;
        $.ajax({
            type: "POST",
            url: url,
            success: function (data) {
				 var SetDatadevice = $('#drpdevice');
				 //var SetDataip = $('#drpip');
                jQuery('#drpdevice').html('');
                //jQuery('#drpip').html('');

		  var devicedata = "<option value='-1'>Select System Name</option>";
		 //var ipdata = "<option value='-1'>Select IP Address</option>";
      	    for (var i = 0; i < data.systemip.length; i++) {
				 devicedata+="<option value='"+ data.systemip[i].device_name +"'>"+ data.systemip[i].device_name +"</option>";
                    //ipdata+="<option value='"+ data.systemip[i].ip +"'>"+ data.systemip[i].ip +"</option>";
				}
                SetDatadevice.append(devicedata);
				//SetDataip.append(ipdata);
            }
            });
    });
    var stable;
    $(document).ready(function () {
        validateSingleForm("#frm_asset_list_data");
    });
    var stable;
    function Funcssyinfo()
    {
        //debugger;
       var $valid = $("#frm_asset_list_data").valid();
       if (!$valid) {
           $validatorform.focusInvalid();
           return false;
       }
       else {
           var skip = 0;
           var take = 10;
           //debugger;
           ipvalue = document.getElementById('drpip').value;
           systemvalue = document.getElementById('drpdevice').value;
           status = document.getElementById('Status').value;
           ouidvalue = document.getElementById('drpou').value;
           //alert(1);
           var systemvalue = document.getElementById('add_systemname').value;
           if (systemvalue == "") {
               systemvalue = document.getElementById("drpdevice").value;
           }
           MACAddress = document.getElementById("Macdropip").value;
           var testt = '{';
           var url = '@Url.Content("~/csat_asset_mgmt/GetSystemlist?IP=")' + ipvalue + '&Device=' + systemvalue + '&ouid=' + ouidvalue + '&Status=' + status + '&MACAddress=' + MACAddress;
           $.ajax({
               type: "POST",
               url: url,
               success: function (data) {
                   //alert(2);
                   //debugger;
                   var agent_divclear = document.getElementById('divsyslist_div');
                   agent_divclear.innerHTML = '&nbsp;';
                   $('#divsyslist_div').append("<table id='divsyslist' class='table table-striped table-bordered' width='100%'></table>");
                   stable = document.getElementById('divsyslist');
                   var data1 = [];
                   var headerimg = "<img src='../images/status.png' />";
                   var headerpopup = "<img src='../images/popup.png' />";
                   for (var i = 0; i < data.sysdata.length; i++) {
                       if (data.sysdata[i].status == "1")
                           image1 = "<img src='../images/running.gif' />";
                       else if (data.sysdata[i].status == "2")
                           image1 = "<img src='../images/warning.gif' />";
                       else if (data.sysdata[i].status == "0")
                           image1 = "<img src='../images/down.gif' />";
                       else if (data.sysdata[i].status == "10")
                           image1 = "<img src='../images/todayrunning.gif' />";
                       var systemlink = "<a href='@Url.Action("asset_system_detail", "csat_asset_mgmt")?device_id=" + data.sysdata[i].device_id + "' >" + data.sysdata[i].device_name + "</a>";
                       var detailspopup = "<a id='show_popover'><i class='glyphicon glyphicon-comment popup manage_icon other_system_detail'><div class='media' style='display:none;'><h6 class='media-heading'> MAC</h6><p class='soft tblwrap1'>" + data.sysdata[i].mac + " </p><h6 class='media-heading '>Login User</h6><p class='soft tblwrap1'>" + data.sysdata[i].login_user + "</p> <h6 class='media-heading'> Client Version </h6><p class='soft tblwrap1'>" + data.sysdata[i].client_version + "</p></div></i></a>";
                       data1.push([data.sysdata[i].device_id, image1, systemlink, data.sysdata[i].ip, data.sysdata[i].mac, data.sysdata[i].os, data.sysdata[i].last_poll_time, data.sysdata[i].ou_longname, data.sysdata[i].login_user, detailspopup]);
                   }
                   stable = $("#divsyslist").DataTable({
                       data: data1, scrollX: !0, searching: !1, dom: "<'top'lB>rt<'bottom'ip><'clear'>", buttons: ["colvis"], "order": [[3, 'asc']],
                       'columnDefs': [{ type: 'ip-address', targets: 3 }, { 'targets': 0, 'checkboxes': { 'selectRow': true } }, { orderable: false, targets: 1 }], 'select': { 'style': 'multi' },
                       columns: [{ title: "", width: '10px' }, { title: "" + headerimg + "", className: 'dt-center', width: '20px' }, { title: "System Name", width: '90px' }, { title: "IP Address", width: '50px' }, { title: "MAC", width: '50px' }, { title: "Operating System", width: '120px' }, { title: "Last Poll Time", width: '60px' }, { title: "Branch/ Unit", width: '170px' }, { title: "Login User", width: '70px' }, { title: "" + headerpopup + "", className: 'dt-center', width: '10px', orderable: false }]
                   });
                   $(".table").css({ "width": "100%" });
                   $(".dataTables_scrollHeadInner ").css({ "width": "100%" });
                   //$('#divsyslist').on('page.dt', function () {
                   //    debugger;
                   //    var info = stable.page.info();
                   //     take = info.length;
                   //     skip = info.length - 1;
                   //    //var page = info.page + 1;
                   //    alert('changed - page ' + page + ' out of ' + info.pages + ' is clicked');
                   //});
                   //alert(3);
                   SelectDevice();
                   //alert(4);
               }
           }).done(function () {
               setTimeout(function () {
                   $("#overlay").fadeOut(300);
               }, 500);
           });
       }
    }
    var deviceidall = "";
    function SelectDevice() {
        //debugger;
        $('#sendmsg,#execute_command,#manage_system,#fetch_all,#clean_temp,#set_uninstall,#manage_agent,#set_serverip').on('click', function (e) {
            //debugger;
            var form = this;
            var rows_selected = stable.column(0).checkboxes.selected();
            $.each(rows_selected, function (index) {
                deviceidall = "";
                for (var i = 0; i < rows_selected.length; i++) {
                    deviceidall += "," + rows_selected[i];
                }
                msgpolicy(deviceidall)
                return false;
            });
            msgpolicy(deviceidall);
            return false;
        });

    }
    function Unchecksoftcount(headid, rawid) {
        headid.checked = false;
        for (var i = 0; i < rawid.length; i++) {
            if (rawid[i].checked == true) {
                rawid[i].checked = false;
            }
            else {
            }
        }
    }
</script>
<script>
    // RDV
    var ip1="";
    var type1="";
    var deviceid1 = "";
    var port = ""
    var charturl="";
    function TakeRDV(ip, type, deviceid) {
       // debugger;
        ip1 = ip;
        type1 = type;
        deviceid1 = deviceid;
    }
    function ViewLowRDV() {
       // debugger;
        var url = '@Url.Content("~/csat_asset_mgmt/GetRDVData?IP=")' + ip1 + '&Deviceid=' + deviceid1 + '&type=' + type1;
        $.ajax({
            type: "POST",
            url: url,
            success: function (data) {
               // debugger;
                port = data.port;
                chart_url = data.chart_url;
                if (data.auth == "1")
                    alert("You are not auhtorized take RDV");
                else {
                    $('#rdv_lowresolution_popup').modal('show');
                    var SetData = $('#divlowresolution');
                    $('#divlowresolution').html('');
                    var divheader = "<table width='100%'><tbody><tr><td><applet width='1024' height='800' align='baseline' archive='VncViewer.jar' code='VncViewer.class'>";
                    divheader += " <param name='HOST' value='" + data.host + "'/> <param name='HOST1' value='" + data.host1 + "'/> " +
                        " <param name='SECONDARYHOST' value='" + data.secondaryhost + "'/> <param name='SECONDARYHOST1' value='" + data.secondaryhost1 + "'/>" +
                        " <param name='PORT' value='" + data.port + "'/> <param name='VIEWONLY' value='" + data.viewonly + "'/> <param name='SESSION' value='" + data.session + "' /> " +
                        " <param name='TUNNELIP' value='" + data.tunnelip + "' /> <param name='DEVICEIP' value='" + data.deviceip + "' />" +
                        " <param name='DEVICEPORT' value='6420' /><param name='TUNNELPORT' value='5999' /><param name='RDVPORT' value='6460' /></applet> " +
                        "</td></tr></tbody></table>";
                    SetData.append(divheader);
                }
            }
        });
    }
    function ViewHighRDV() {
        var url = '@Url.Content("~/csat_asset_mgmt/InsertViewHighRDV?Deviceid=")' + deviceid1;
        $.ajax({
            type: "POST",
            url: url,
            success: function (data) {
                chart_url = data.chart_url;
                var URL1 = chart_url + '/launchVNC?deviceID=' + deviceid1 + '&ip=' + ip1 + '&port=' + port + '&type=' + type1;
                window.open(URL1);
            }
        });
    }
</script>
<script>
    function checkPasswordMatch() {
        //alert('1');
        var $valid = $('#frm_set_uninstall').valid();
        if (!$valid) {
            $validatorform.focusInvalid();
            return false;
        }
        else {
            submit_uninstall_password();
            return (true);
        }
    }
</script>
<script>
    //checkbox input hide & show
    $('#inputsystemname').hide();
    $('#add_system_chk').on('click', function () {
        if ($(this).is(':checked')) {
            $('#selectsys').hide();
            $('#inputsystemname').show();
        }
        else {
            $('#selectsys').show();
            $('#inputsystemname').hide();
            document.getElementById('add_systemname').value = "";
        }
    });
</script>
